<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="../resources/css/kendo/kendo.common.min.css" />
    <link rel="stylesheet" href="../resources/css/kendo/kendo.default.min.css" />
    <link rel="stylesheet" href="../resources/css/mob/kendo.mobile.all.min.css" />
    <!-- <link rel="stylesheet" type="text/css" href="../resources/css/common.css"> -->

    <script src="../resources/js/jquery-2.1.4.min.js"></script>
    <script src="../resources/js/kendo/kendo.all.min.js"></script>
</head>
<body>
<div data-role="view" id="tabstrip-profile" data-title="Profile" data-layout="mobile-tabstrip">
    <ul data-role="listview" data-style="inset">
        <li>
            <label>VIN
                <input type="text" value="" /><a data-role="detailbutton" data-icon="search" class="km-style-info"></a>
            </label>
        </li>
        <li>
            <label>차량번호
                <input type="text" value="" /><a data-role="detailbutton" data-icon="search" class="km-style-info"></a>
            </label>
        </li>
        <li>
            <label>브랜드명
                <input type="text" value="" />
            </label>
        </li>
        <li>
            <label>차종명
                <input type="text" value="" />
            </label>
        </li>
        <li>
            <label>모델명
                <input type="text" value="" />
            </label>
        </li>
        <li>
            <label>사전점검주행거리
                <input type="number" value="20" />
            </label>
        </li>
        <li>
            <label>누계주행거리
                <input type="number" value="20" />
            </label>
        </li>
        <li>
            <label>실제주행거리
                <input type="number" value="20" />
            </label>
        </li>
        <li>
            <label>보증시작일자
                <input type="date" value="2012-03-22" />
            </label>
        </li>
    </ul>
</div>

<div data-role="view" id="tabstrip-sales" data-title="Sales History" data-layout="mobile-tabstrip" data-init="initGrid" data-stretch="true">
    <div id="grid"></div>
</div>

<div data-role="view" id="tabstrip-rating" data-title="Rating" data-layout="mobile-tabstrip">
    <ul data-role="listview" data-style="inset" data-type="group">
        <li>
            Sales Representatives
            <ul>
                <li data-icon="toprated">1. Andrew Fuller</li>
                <li data-icon="toprated">2. Janet Leverling</li>
                <li data-icon="toprated" style="background-color: #26c6da; color: #fff;">3. Eduardo Batista</li>
                <li data-icon="toprated">4. Margaret Johnson</li>
                <li data-icon="toprated">5. Steve Collins</li>
                <li data-icon="toprated">6. Maria Steward</li>
            </ul>
        </li>
    </ul>
</div>

<div data-role="view" id="tabstrip-settings" data-title="Settings" data-layout="mobile-tabstrip">
    <ul data-role="listview" data-style="inset" data-type="group">
        <li>
            Eduardo Batista
            <ul>
                <li>Notify when online <input type="checkbox" data-role="switch" checked></li>
                <li>Administrator <input type="checkbox" data-role="switch"></li>
                <li>Access to stats <input type="checkbox" data-role="switch" checked></li>
            </ul>
        </li>
    </ul>
</div>

<div data-role="layout" data-title="Button with Icons" class="buttonAppearance" data-use-native-scrolling="true" data-layout="mobile-view">
        <ul class="leftBtns">
            <li>
                <a data-role="button" data-animated="true">초기화</a>
                <a data-role="button" data-animated="true">정비이력조회</a>
                <a data-role="button" data-animated="true">고객정보등록/변경</a>
                <a data-role="button" data-animated="true">차량정보</a>
                <a data-role="button" data-animated="true">고객정보변경</a>
            </li>
        </ul>

        <ul class="rightBtns">
            <li>
                <a data-role="button" data-animated="true">확인</a>
                <a data-role="button" data-animated="true">취소</a>
                <a data-role="button" data-animated="true">인쇄</a>
            </li>
        </ul>
    </div>

<div data-role="layout" data-id="mobile-tabstrip">
    <header data-role="header">
        <div data-role="navbar">
            <span data-role="view-title"></span>
            <a data-align="right" data-role="button" class="nav-button" data-icon="home" href="#/"></a>
            <a data-align="right" data-icon="source-code" data-click="goToSourceCode" data-role="button" title="Show this demo source code"></a>
        </div>
    </header>

    <p>TabStrip</p>

    <!-- <div data-role="header" data-title="Button with Icons" class="buttonAppearance" data-use-native-scrolling="true" data-layout="mobile-view">
        <ul class="leftBtns">
            <li>
                <a data-role="button" data-animated="true">초기화</a>
                <a data-role="button" data-animated="true">정비이력조회</a>
                <a data-role="button" data-animated="true">고객정보등록/변경</a>
                <a data-role="button" data-animated="true">차량정보</a>
                <a data-role="button" data-animated="true">고객정보변경</a>
            </li>
        </ul>
        <ul class="rightBtns">
            <li>
                <a data-role="button" data-animated="true">확인</a>
                <a data-role="button" data-animated="true">취소</a>
                <a data-role="button" data-animated="true">인쇄</a>
            </li>
        </ul>
    </div> -->

    <div data-role="header">
        <div data-role="tabstrip">
            <a href="#tabstrip-profile">차량정보</a>
            <a href="#tabstrip-sales">서비스 캠페인</a>
            <a href="#tabstrip-rating">일괄 캠페인</a>
            <a href="#tabstrip-settings">삼포알람</a>
        </div>
    </div>
</div>

<style>
    .sales-down,
    .sales-hold,
    .sales-up,
    .value {
        float: right;
    }
    .sales-up { color: #4caf50; }
    .sales-down { color: #ff4350; }
    .sales-hold { color: #2196f3; }
    .value { color: #c7cdd0; }
    .km-tabstrip .km-button .km-icon, .km-tabstrip .km-image{display: none;}
    .km-nova .km-tabstrip .km-button {font-size: 1em;}
</style>



<script>
    function initGrid() {
        //var crudServiceBaseUrl = "https://demos.telerik.com/kendo-ui/service";
        var crudServiceBaseUrl = "/bhmc-dms-web/ser/svi/campaign/selectCampaignForVinInfos.do";
        var dataSource = new kendo.data.DataSource({
             transport: {
                read:  {
                    //<c:url value="/resources/js/jquery-2.1.4.min.js"/>
                    url:"/bhmc-dms-web/ser/svi/campaign/selectCampaignForVinInfos.do",
                    type:'POST',
                    dataType:'json',
                    contentType:'application/json'
                },
                /* update: {
                    url: crudServiceBaseUrl,
                    dataType: "jsonp",
                    type: "POST"
                },
                destroy: {
                    url: crudServiceBaseUrl,
                    dataType: "jsonp",
                    type: "POST"
                },
                create: {
                    url: crudServiceBaseUrl,
                    dataType: "jsonp",
                    type: "POST"
                }, */
                /* parameterMap: function(options, operation) {
                    if (operation !== "read" && options.models) {
                        return {models: kendo.stringify(options.models)};
                    }
                }, */
                parameterMap:function(options , operation){
                    if(operation == "read"){

                        // 검색 조건을 파라미터로 담는다.
                        var params = {};
                        params["recordCountPerPage"] = options.pageSize;
                        params["pageIndex"] = options.page;
                        params["firstIndex"] = options.skip;
                        params["lastIndex"] = options.skip + options.take;
                        params["sort"] = options.sort;

                        /* params["sVinNo"]      = $("#vinNo").val();
                        params["sPdiYn"]      = dms.string.defaultString($("#pdiYn").val(),"N");
                        params["sCarDstinCd"] = $("#carDstinCd").val();
                        params["sLtsModelCd"] = $("#ltsModelCd").val();
                        params["sHostCd"]     = "02";

                        params["sSignOffDt"] = kendo.parseDate( $("#signOffDt").val());
                        params["sCustSaleDt"] = $("#custSaleDt").data("kendoExtMaskedDatePicker").value(); */

                        return kendo.stringify(params);

                    }else if(operation != "read" && options.models){
                        return kendo.stringify(options.models);
                    }
                }//parameterMap
            },
            /* data: [{
                "ProductID": 1,
                "ProductName": "Chai",
                "UnitPrice": 18,
                "UnitsInStock": 39,
                "Discontinued": false
            }, {
                "ProductID": 2,
                "ProductName": "Chang",
                "UnitPrice": 19,
                "UnitsInStock": 17,
                "Discontinued": false
            }, {
                "ProductID": 3,
                "ProductName": "Aniseed Syrup",
                "UnitPrice": 10,
                "UnitsInStock": 13,
                "Discontinued": false
            }], */
            batch: true,
            pageSize: 20,
            schema: {
                model: {
                    id: "ProductID",
                    fields: {
                        ProductID: { editable: false, nullable: true },
                        ProductName: { validation: { required: true } },
                        UnitPrice: { type: "number", validation: { required: true, min: 1} },
                        Discontinued: { type: "boolean" },
                        UnitsInStock: { type: "number", validation: { min: 0, required: true } }
                    }
                }
            }
        });

        $("#grid").kendoGrid({
            dataSource: dataSource,
            pageable: true,
            mobile: "tablet",
            height: 'auto',
            resizable: true,
            //toolbar: ["create"],
            columns: [
                { field:"ProductName", title: "Product Name", width: "200px" },
                { field: "UnitPrice", title:"Unit Price", format: "{0:c}", width: "120px" },
                { field: "UnitsInStock", title:"In Stock", width: "120px" },
                { field: "Discontinued", width: "120px" },
                { command: ["edit", "destroy"], title: "&nbsp;", width: "220px" }
            ],
            //editable: "popup",
            editable: true,
            filterable: true,
            sortable: true,
            columnMenu: true
        });
    }
</script>

<style>
    /* Grid columns with no width are collapsed if the space is not enough, thus min-width on the tables is needed */
    .k-grid table
    {
        min-width: 600px;
    }

    /* Android's default browser doesn't support properly min-width on tables */
    @media screen and (max-width: 699px) {
        .km-phone .km-android .k-grid table
        {
            width: 600px;
        }
    }
</style>

<style>
    ul{list-style-type: none;}
    .leftBtns{float: left; display: inline-block;}
    .rightBtns{float: right; display: inline-block;}
</style>

<script>
    var app = new kendo.mobile.Application(document.body, { skin: "nova" });
</script>
</body>
</html>