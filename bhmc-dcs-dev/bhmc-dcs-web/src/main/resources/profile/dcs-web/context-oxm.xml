<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:oxm="http://www.springframework.org/schema/oxm"
    xmlns:util="http://www.springframework.org/schema/util"
    xmlns:sws="http://www.springframework.org/schema/web-services"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd
        http://www.springframework.org/schema/oxm http://www.springframework.org/schema/oxm/spring-oxm-4.2.xsd
        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd
        http://www.springframework.org/schema/web-services http://www.springframework.org/schema/web-services/web-services-2.0.xsd">

    <oxm:jaxb2-marshaller id="jaxb2Marshaller">
        <oxm:class-to-be-bound name="chn.bhmc.dms.core.support.camel.Data" />
        <oxm:class-to-be-bound name="chn.bhmc.dms.core.support.eai.schema.CommDMSDoc" />
    </oxm:jaxb2-marshaller>

    <bean id="camelClientFactory" class="chn.bhmc.dms.core.support.camel.CamelClientFactory">
        <property name="endpointUrl" value="http://10.125.211.115:8183/interfaceServlet" />
        <property name="marshaller" ref="jaxb2Marshaller" />
        <property name="unmarshaller" ref="jaxb2Marshaller" />
    </bean>

    <bean class="org.springframework.ws.server.endpoint.mapping.PayloadRootQNameEndpointMapping">
        <property name="interceptors">
            <list>
                <ref bean="loggingInterceptor" />
                <ref bean="soapLoggingInterceptor" />
            </list>
        </property>
    </bean>

    <bean id="loggingInterceptor" class="org.springframework.ws.server.endpoint.interceptor.PayloadLoggingInterceptor">
        <property name="logRequest" value="true" />
        <property name="logResponse" value="true" />
    </bean>
    <bean id="soapLoggingInterceptor" class="org.springframework.ws.soap.server.endpoint.interceptor.SoapEnvelopeLoggingInterceptor" />

    <bean id="eaiClient" class="chn.bhmc.dms.core.support.eai.EaiClient">
        <property name="marshaller" ref="jaxb2Marshaller" />
        <property name="unmarshaller" ref="jaxb2Marshaller" />
        <property name="defaultUri" value="http://10.125.211.152:5555/ws/CommDMS.WS.provider.FromCommDMS" />
    </bean>
</beans>
