<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--
    SQL File Name : SmsMessageIfDAO_SqlMap.xml
    Description : DMS에서 DCS로 SMS 전송을 위한 인터페이스 내역을 저장
    author Choi Kyung Yong
    since 2016. 9. 5.
    version 1.0
    Modification Information
       since          author              description
    ===========    =============    ===========================
   2016. 9. 5.    Choi Kyung Yong           최초 생성
-->

<mapper namespace="chn.bhmc.dms.cmm.sms.service.dao.SmsMessageIfDAO">
    <insert id="insertSmsMessageIF" parameterType="SmsMessageIfVO">
        /* [chn.bhmc.dms.cmm.sms.service.dao.SmsMessageIfDAO.insertSmsMessageIF] */
        INSERT INTO CM_2604T(
               DLR_CD
             , SEQ
             , SMS_SEND_DSTIN_CD
             , TEL_NO
             , SMS_CONT
             , RESV_DT
             , SMS_SEND_YN
             , SEND_MESG_ID
             , APP_DSTIN_CD
             , APP_SEQ
             , REG_USR_ID
             , REG_DT
             , UPDT_USR_ID
             , UPDT_DT
        ) VALUES (
               #{dlrCd}
             , (SELECT NVL(MAX(SEQ),0) + 1 FROM CM_2604T WHERE DLR_CD = #{dlrCd})
             , #{smsSendDstinCd}
             , #{telNo}
             , #{smsCont}
             , #{resvDt}
             , 'N'
             , NULL
             , #{appDstinCd}
             , #{appSeq}
             , #{regUsrId}
             , SYSDATE
             , #{regUsrId}
             , SYSDATE
        )
    </insert>
</mapper>